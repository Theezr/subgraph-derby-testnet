type BasketId @entity {
  id: String!
  owner: Player!
  vault: Vault! # uint256
  rebalancingPeriod: BigInt # uint256
  redeemedRewards: BigInt! # uint256
  unredeemedRewards: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Player @entity {
  id: Bytes!
  baskets: [BasketId!]! @derivedFrom(field: "owner")
}

type Vault @entity {
  id: String!
  name: String!
  vaultNumber: BigInt!
  protocols: [Protocol]! @derivedFrom(field: "vault")
}

type Protocol @entity(immutable: true) {
  id: String!
  name: String! # string
  network: String # string
  protocol: String # string
  vault: Vault! # uint256
  provider: Bytes! # address
  protocolLPToken: Bytes! # address
  underlying: Bytes! # address
  govToken: Bytes! # address
  protocolNumber: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}
